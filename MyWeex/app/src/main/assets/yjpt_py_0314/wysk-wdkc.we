<template>
    <wxc-navpage data-role="none" height={{navBarHeight}} background-color="#00cc99" title="我要上课"
    title-color="white" onclickleftitem="onclickleftitem" left-item-src="{{images.leftItemImg}}"> 
        <div class="wra">         
              <!--我的课程-->
            <scroller>
                  <div class="major_wrap">
                        <div class="indexS">
                            <p class="ssLine">
                                <img src="{{search}}" class="searchPic" >
                                <input type="text" name="" class="secrchInput" placeholder="请输入关键字" >
                            </p>
                        </div>
                        <div class="course_list" repeat={{myCourse}} >
                            <div><image src={{preview}} class="course_img"></image></div>
                            <div class="course_right"  >
                                <text class="course_title" >{{name}}</text>
                                <div class="lessonState">
                                    <text style="color: #fa7310; text-align: right; flex: 2; line-height: 55; margin-right: 60; ">{{lessonState}}</text>
                                    <img class="play_btn" onclick="redirect" src="{{images.rightArrow}}">
                                </div>
                                <div style=" flex-direction: row; ">
                                    <text class="classify" onclick="openUrl">{{classify}}</text>
                                </div>
                            </div>
                        </div>
                </div>
            </scroller>
        </div>
</wxc-navpage>  
</template>
<style>
    .indexS{width: 750px; background-color:#f4f1f1; padding: 20;  flex-direction: row;}
    .ssLine{width: 710px; height: 90; border-width: 1; border-style: solid; border-color: #ccc; border-radius: 5; flex-direction: row; align-items: center; display: flex; justify-content: space-between; background-color: #fff;}
    .searchPic{width: 50; height: 50; margin-left: 25;margin-right: 25; }
    .secrchInput{ width: 650; margin-right:25; height: 88; font-size: 36; }
    .wra { 
        position:absolute; 
        width: 750; 
        top: 0; 
        left: 0; 
        right: 0; 
        bottom: 0;
        background-color:#fffffffff; 
    }
    .course_img{width: 132;height: 175;border-style: solid;border-width: 1;border-color: #ddd;background-size: auto 100%;}
    .course_list{ width: 750;  background-color:#fff;
    border-bottom-width: 1;
    border-bottom-color: #e7e7e7;
    border-bottom-style: solid;
    padding:25;
    flex-direction: row;
    display: flex; align-items: center; justify-content:space-between;
    }
    .course_right{flex: 3; margin-left: 20;}
    .course_title{color: #222;font-size: 36; line-height: 35; font-family: Microsoft YaHei;}
    .lessonState{ flex-direction: row; height: 60; }
    .play_btn{width: 65;height: 65;}
    .classify{ border-color:#0c9; border-style: solid; border-width: 1; border-radius: 5px; padding: 12; padding-top:6; padding-bottom:6; color: #0c9;}
    .major_wrap{margin-top: 95;}

</style>
<script>
    require('weex-components');
    var Utils = require('./javascript/Utils');
    var modal = require('@weex-module/modal');
    var storage = require('@weex-module/storage');
    module.exports = {
      data: {
        navBarHeight: 130,
        dir: 'yjpt',
        myCourse:[
            {
                id:1,
                name:'奇志玩趣第一课',
                classify:'查看教案',
                preview:'yjpt/images/index1.jpg',
                lessonState:'',
            }, 
            {
                 id:2,
                 name:'奇志玩趣第二课' ,
                 classify:'查看教案',
                 preview:'yjpt/images/index2.jpg',
                 lessonState:'已上课'
             }, 
            {
                 id:3,
                 name:'奇志玩趣第三课' ,
                 classify:'查看教案',
                 preview:'yjpt/images/index2.jpg',
                 lessonState:'已上课'
             }, 
            {
                 id:4,
                 name:'奇志玩趣第四课' ,
                 classify:'查看教案',
                 preview:'yjpt/images/index2.jpg',
                 lessonState:'已上课'
             }, 
            {
                 id:5,
                 name:'奇志玩趣第五课' ,
                 classify:'查看教案',
                 preview:'yjpt/images/index2.jpg',
                 lessonState:'已上课'
             }
        ],
        images:{
          leftItemImg:'yjpt/images/id_right_bg.png',
          rightArrow:'yjpt/images/videoPlay.png'
        },
        search:''
      },
      created: function() {
          this.search = Utils.ip + 'yjpt/images/search.png';
          Utils.changeImg(this.myCourse,['preview'],'myCourse');
          Utils.changeImg(this.images,['leftItemImg','rightArrow'],'images');

          this.$on('naviBar.leftItem.click',function(e){ 
              // history.back();
              Utils.navigate.pop(this,'true');
          });        
      },
      methods: {
          openUrl:function(){
               var url=Utils.setOpenUrl(this.$getConfig(),'courseTab');
                Utils.navigate.push(this,url,'true'); 
          }
          
      }
    }
</script>
