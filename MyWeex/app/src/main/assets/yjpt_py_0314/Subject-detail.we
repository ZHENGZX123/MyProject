<template>
    <wxc-navpage data-role="none" height={{navBarHeight}} background-color="#00cc99" title="{{courseInfo.name}}"
    title-color="white" onclickleftitem="onclickleftitem" left-item-src="{{images.leftItemImg}}"> 
     <div class="wra">   
        <scroller class="content">            
            <div class="detail_wrap">
                <div>
                    <div class="detail_list">
                        <div class="list_top">
                            <image  src="{{target}}" style=" width: 45; height: 45; " ></image>
                            <text class="list_title">教学目标</text>
                        </div>
                        <div class="list_content">
                            <text class="list_content">{{courseInfo.aim}}</text>
                        </div>
                    </div>
                </div>

                <div>
                    <div class="detail_list">
                        <div class="list_top">
                            <image  src="{{target}}" style=" width: 45; height: 45; " ></image>
                            <text class="list_title">课前准备</text>
                        </div>
                        <div class="list_content">
                            <text class="list_content">{{courseInfo.teaching_prepare}}</text>
                        </div>
                    </div>
                </div>


                <div class="video_list" repeat={{videoList}}>
                    <p style=" flex-direction: row; align-items: center; ">
                        <text class="video_index">{{$index+1}}</text>
                        <img src="{{videoPic}}" style=" width: 60; height: 60; ">
                    </p>
                    <div class="video_content">
                        <text class="video_content">{{videoContent}}</text>
                    </div>
                </div>

                <div class="menu">
                    <div class="menubar" onclick="showMenu">
                        <text class="menu_txt">展开</text>
                        <image class="opt_img" src="{{arrowDown}}"></image>
                    </div>
                    <div class="menu_inner" if={{isShow}}>
                        <text>asdfasd</text>
                    </div>
                </div>
            </div>
        </scroller>
    </div>
        <!--<wxc-loading if="{{loading}}"></wxc-loading>-->
</wxc-navpage>  
</template>
<style>
    .wra { 
        position:absolute; 
        width: 750; 
        top: 0; 
        left: 0; 
        right: 0; 
        bottom: 0;
        background-color:#fffffffff; 
    }
    .detail_wrap{margin-top: 95; padding: 20; margin-bottom: 80;}  
    .detail_list{border-width: 1;border-color:#0c9;border-style:solid;border-radius: 6;margin:10;}  
    .list_top{ flex-direction: row; align-items: center; background-color: #f4f1f1;font-family: Microsoft YaHei;padding: 8;}
    .list_title{font-size: 36;padding-top: 10;padding-bottom: 10;padding-left: 10; color: #444;}
    .list_content{margin:10;font-size: 34;line-height: 50;font-family: Microsoft YaHei;color: #444;}
    .video_list{padding: 10;border-width: 1;border-color:#0c9;border-style:solid;border-radius: 6;margin:10;position: relative;padding-bottom:40;}
    .video_index{width: 80; margin-left: -10;border-top-right-radius: 50;border-bottom-right-radius: 50;background-color: #0c9;text-align: center;font-weight: bold;color: #fff;font-size: 36;padding-top: 10;padding-bottom: 10;}
    .video_content{margin-top: 10;color: #444;font-family: Microsoft YaHei;font-size: 36; padding: 10;}
   
    .menu{position: fixed;left: 0;bottom: 0;}
    .menubar{background-color: #0c9;padding: 25;width: 750;position: relative;}
    .opt_img{height: 25;width: 35;position: absolute;right: 20;top: 28;}
    .menu_txt{text-align: right;color: #fff;font-family: Microsoft YaHei;font-size: 36;padding-right: 40;}
    .menu_inner{padding: 20;background: rgba(0,204,153,.7);}
    .video{flex:1;width: 670;height: 400;}
</style>
<script>
    require('weex-components');
    var Utils = require('./javascript/Utils');
    var modal = require('@weex-module/modal');
    var storage = require('@weex-module/storage');
    module.exports = {
        data: {
            loading:false,   
            navBarHeight: 130,
            displayRefresh: 'show',
            // isShow:false,
            dir:'yjpt',
            displayLoading: 'show',
            arrowDown:'',
            target:'',
            images:{
                leftItemImg:'yjpt/images/id_right_bg.png',
                rightArrow:'yjpt/images/videoPlay.png'
            },
            detailList:[
                {listTitle:'教学目标',listContent:"1.借助游戏能够认读“哭”“笑”“脸”三个汉字，理解并运用。2.知道镜子是生活用品，了解它的特点，激发幼儿的好奇心。3.能够识别哭、笑的表情，在游戏中体会不同表情的变化。"},
                {listTitle:'课前准备',listContent:"大字卡  小字卡  “送字宝宝回家”游戏纸（附彩色，黑白两种版本）"}
            ],
            videoList:[
                {index:'01',videoContent:'视频1：蓝迪奇趣玩字片头    播放开场动画     师：请小朋友跟妙妙姐姐和蓝迪一起跳起来吧！',videoPic:"yjpt/images/videoPic.png"},
                {index:'02',videoContent:'在老师的带领下做。。。',videoPic:''}
            ],
            courseInfo:{}
        },
        created : function(){
            var self = this;
            this.arrowDown = Utils.ip + 'yjpt/images/arrow_down_white.png';
            this.target = Utils.ip + 'yjpt/images/target.png';
            this.$on('naviBar.leftItem.click',function(e){ 
                // history.back();
                Utils.navigate.pop(this,'true');
            });
            Utils.changeImg('images',['leftItemImg','rightArrow']);
            this.leftItemImg = Utils.changeImg(this.leftItemImg);
            Utils.changeImg(this.videoList,['videoPic']);

            storage.getItem('courseInfo',function(e){
                if(e.data != 'undefined'){
                    self.courseInfo = JSON.parse(e.data);
                }
            }); 
                
        },
        methods:{
             /*showMenu:function(){
                 this.isShow = !this.isShow;
             },
            setVideo:function(i){
                var self = this;
                self.sectinList[i].resource.file_path = Utils.ip+ self.dir +　self.sectinList[i].resource.file_path;
            },
            filterContent:function(i){
                var self = this;
                self.sectinList[i].content = self.sectinList[i].content.replace(/<br>/g,'');
            }*/
        }
  };
</script>
