<template>
   <wxc-navpage data-role="none" height={{navBarHeight}} background-color="#00cc99" title="我的宝贝"
    title-color="white" onclickleftitem="onclickleftitem" left-item-src="{{headLeft}}" >
       <scroller class="content">
          <div class="mycake1" >
               <image class="pic_thumb" src="{{myPortraitUrl}}"></image>
               <text class="name">{{name}}</text>
          </div>
          <div class="mycake mycake_li" style="border-top: none;" >
              <text class="sex nameType" > {{sex}}</text>
              <img class="sexPic" src="{{sexPic}}">
              <text class="rightli rightName">{{date}}</text>
          </div>
          <div class="mycake">
               <img class="ewm" src="{{ewmPic}}">
               <div  style="flex: 2; text-align: left; "><text class="nameType">{{className}}</text></div>
              <text class="rightli">></text>
          </div>
          <div class="title">
            <text class="title1">亲属成员</text>
            <text class="title2">目前只支持3位亲属</text>
          </div>
          <div class="mycake " repeat="{{family}}">
              <image class="mycake_liImg" src="{{photo}}"></image>
              <text>{{appellation}} </text>
              <text class="mycake_liName" >{{status}}</text>
          </div>
      </scroller>
  </wxc-navpage>
</template>
<style>
  .content {
    color: #353535;
    background-color: #efeff4;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
  } 
  .mycake1{ width:750;  background-color: #ffffff; padding-top:50; padding-bottom:35;  align-items: center; }
  .mycake{flex-direction:row; width:750; height: 110; background-color: #ffffff; 
    border-bottom-width: 1;
    border-bottom-color: #e5e5e5;
    display: flex;
    align-items: center; 
    justify-content: space-between; padding-left:15; padding-right:30; 
     }
  .name{font-size: 38; font-family:微软雅黑; padding-top: 10; text-align: center;}
  .mycake_li{ height: 110; border-top-width: 1; border-top-color: #e5e5e5;}
  .rightName { flex: 2; padding-right: 20; text-align:right; font-family:微软雅黑; font-size: 30; }
  .nameType{ font-size: 36; padding-left: 30; text-align: left; }
  .rightli{font-size: 45; color:#cccccc;}
  .ewm{width: 80; height: 80; margin-top: 13; margin-left: 20;}
  .mycake_liImg{width: 80; height: 80; margin:15; }
  .title{ flex-direction: row;  display: flex; align-items: center; height: 80; font-family:微软雅黑;}
  .title1{ flex: 1; margin-left: 20; font-size: 36; }
  .title2{ flex: 3; color:#666666; font-size: 26;}
  .class{flex:2; text-indent:20; font-family:微软雅黑;}
  .mycake_liName{ flex:2; padding-left: 20; color: #666666; font-size: 26; }
  .direction{width: 90; font-size:60; font-weight:bold; text-align: center; color:#cccccc;}
  .pic_thumb { width: 200; height: 200;  border-radius: 100; }
  .text { width: 260;  text-align: right; color: #666666; font-size: 26;  font-family:微软雅黑; padding-right: 40;  }
  .sex{width: 80; padding-left: 38; text-indent:20; font-family:微软雅黑; }
  .sexPic{width: 40; height: 40; margin: 35;}
</style>
<script>
  require('weex-components');
  var Utils = require('./javascript/Utils');
  var modal = require('@weex-module/modal');
  var storage = require('@weex-module/storage');
  module.exports = {
    data: {
      navBarHeight: 130,
      name:'',
      sex:'',
      date:'',
      className:'',
      myPortraitUrl:Utils.ip + 'yjpt/images/IMG_df.png',//头像
      sexPic:'',
      family:[
          /*{photo:'yjpt/images/IMG_df.png',appellation:'妈妈',status:'还未加入 扫描班级二维码即可加入'},
          {photo:'yjpt/images/IMG_df.png',appellation:'爸爸',status:'还未加入 扫描班级二维码即可加入'},
          {photo:'yjpt/images/IMG_df.png',appellation:'亲戚',status:'152****9988'}*/
      ],
      studentInfo:{}
    },
    created : function(){
      this.headLeft = Utils.ip + 'yjpt/images/id_right_bg.png';
     // this.sexPic = Utils.ip + 'yjpt/images/male.png'; woman.png
      this.ewmPic = Utils.ip + 'yjpt/images/ewm_icon.png';
      Utils.changeImg(this.family,['photo']);
      this.$on('naviBar.leftItem.click',function(e){ 
          // history.back();
          Utils.navigate.pop(this,'true');
      }); 
      var childId,className;
      var self = this;
      storage.getItem('className',function(e){
          self.className=e.data;
      })      
    }

  };
</script>
